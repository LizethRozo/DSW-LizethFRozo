const e=document.querySelector(".nav-sidebar .sections"),t=()=>{const t=document.createElement("link");t.rel="stylesheet",t.href="https://cdn.jsdelivr.net/npm/overlayscrollbars@1.12.0/css/OverlayScrollbars.min.css",document.head.appendChild(t);const n=document.createElement("script");n.src="https://cdn.jsdelivr.net/npm/overlayscrollbars@1.12.0/js/OverlayScrollbars.min.js",n.onload=()=>{window.OverlayScrollbars=OverlayScrollbars,e&&OverlayScrollbars(e,{className:"os-theme-light"})},document.head.appendChild(n)},n=Array.from(document.querySelectorAll(".ingredients")),o=document.querySelector(".ing-quantity"),r=document.querySelector("#searchlist"),i=["https://lenguajehtml.com","https://lenguajecss.com","https://lenguajejs.com","https://terminaldelinux.com"],s=["#f92","#2af","#fd2","#555"],a=()=>r.innerHTML="";window.searching=!1;const c=()=>{document.querySelector("form.search input[type=search]").onkeyup=e=>{const t=e.target.value.toLowerCase().trim(),n=t.length;if(n>3&&!window.searching){a();const e=[];i.forEach(((n,o)=>{window.searching=!0;const i=fetch(n+"/api/contents.json").then((e=>e.json())).then((e=>((e,t,n,o)=>{const i=t.filter((t=>{const n=t.description.toLowerCase(),o=t.url.toLowerCase();return n.includes(e)||o.includes(e)})),s=[];for(let e=0;e<i.length;e++){const t=i[e],r=t.topic?t.topic:"assets";if(s.push(`<li class="result page">\n        <a href="${n}${t.url}" style="--theme-color:${o}">\n           <img src="${n}/${r}/logo.svg"> ${t.title}\n        </a>\n      </li>`),s.length>15)break}r.innerHTML+=s.join("")})(t,e,n,s[o])));e.push(i)})),Promise.all(e).then((()=>{(e=>{const t=i.map((e=>e.replace("https://","site:"))).join("+OR+"),n=e.replace(/ /g,"+")+"+"+t,o=[];o.push(`<li class="result page" style="--theme-color: #777"><a class="more" href="https://www.google.com/search?q=${n}"><svg-icon name="google" size="18"></svg-icon> Buscar en Google</a></li>`),o.push(`<li class="result page" style="--theme-color: #777"><a class="more" href="https://duckduckgo.com/?q=${n}"><svg-icon name="duckduckgo" size="18"></svg-icon> Buscar en DuckDuckGo</a></li>`),r.innerHTML+=o.join("")})(t),window.searching=!1}))}else 0===n&&a()}};var l,d,u=function(){return"".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return{name:e,value:t,delta:0,entries:[],id:u(),isFinal:!1}},h=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var n=new PerformanceObserver((function(e){return e.getEntries().map(t)}));return n.observe({type:e,buffered:!0}),n}}catch(e){}},p=!1,v=!1,f=function(e){p=!e.persisted},g=function(){addEventListener("pagehide",f),addEventListener("unload",(function(){}))},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];v||(g(),v=!0),addEventListener("visibilitychange",(function(t){var n=t.timeStamp;"hidden"===document.visibilityState&&e({timeStamp:n,isUnloading:p})}),{capture:!0,once:t})},y=function(e,t,n,o){var r;return function(){n&&t.isFinal&&n.disconnect(),t.value>=0&&(o||t.isFinal||"hidden"===document.visibilityState)&&(t.delta=t.value-(r||0),(t.delta||t.isFinal||void 0===r)&&(e(t),r=t.value))}},w=function(){return void 0===l&&(l="hidden"===document.visibilityState?0:1/0,b((function(e){var t=e.timeStamp;return l=t}),!0)),{get timeStamp(){return l}}},x=function(){return d||(d=new Promise((function(e){return["scroll","keydown","pointerdown"].map((function(t){addEventListener(t,e,{once:!0,passive:!0,capture:!0})}))}))),d},S=Object.freeze({__proto__:null,getCLS:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=m("CLS",0),r=function(e){e.hadRecentInput||(o.value+=e.value,o.entries.push(e),t())},i=h("layout-shift",r);i&&(t=y(e,o,i,n),b((function(e){var n=e.isUnloading;i.takeRecords().map(r),n&&(o.isFinal=!0),t()})))},getFCP:function(e){var t,n=m("FCP"),o=w(),r=h("paint",(function(e){"first-contentful-paint"===e.name&&e.startTime<o.timeStamp&&(n.value=e.startTime,n.isFinal=!0,n.entries.push(e),t())}));r&&(t=y(e,n,r))},getFID:function(e){var t=m("FID"),n=w(),o=function(e){e.startTime<n.timeStamp&&(t.value=e.processingStart-e.startTime,t.entries.push(e),t.isFinal=!0,i())},r=h("first-input",o),i=y(e,t,r);r?b((function(){r.takeRecords().map(o),r.disconnect()}),!0):window.perfMetrics&&window.perfMetrics.onFirstInputDelay&&window.perfMetrics.onFirstInputDelay((function(e,o){o.timeStamp<n.timeStamp&&(t.value=e,t.isFinal=!0,t.entries=[{entryType:"first-input",name:o.type,target:o.target,cancelable:o.cancelable,startTime:o.timeStamp,processingStart:o.timeStamp+e}],i())}))},getLCP:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=m("LCP"),r=w(),i=function(e){var n=e.startTime;n<r.timeStamp?(o.value=n,o.entries.push(e)):o.isFinal=!0,t()},s=h("largest-contentful-paint",i);if(s){t=y(e,o,s,n);var a=function(){o.isFinal||(s.takeRecords().map(i),o.isFinal=!0,t())};x().then(a),b(a,!0)}},getTTFB:function(e){var t,n=m("TTFB");t=function(){try{var t=performance.getEntriesByType("navigation")[0]||function(){var e=performance.timing,t={entryType:"navigation",startTime:0};for(var n in e)"navigationStart"!==n&&"toJSON"!==n&&(t[n]=Math.max(e[n]-e.navigationStart,0));return t}();n.value=n.delta=t.responseStart,n.entries=[t],n.isFinal=!0,e(n)}catch(e){}},"complete"===document.readyState?setTimeout(t,0):addEventListener("pageshow",t)}});const L=new Map([["CLS",{thresholds:{good:.1,needsImprovement:.25},observerEntryType:"layout-shift",explainerURL:"https://web.dev/cls/",longName:"Cumulative Layout Shift"}],["FCP",{thresholds:{good:2500},observerEntryType:"paint",explainerURL:"https://web.dev/fcp/",unit:"ms",longName:"First Contentful Paint"}],["FID",{thresholds:{good:100,needsImprovement:300},observerEntryType:"first-input",explainerURL:"https://web.dev/fid/",unit:"ms",longName:"First Input Delay"}],["LCP",{thresholds:{good:2500,needsImprovement:4e3},observerEntryType:"paint",explainerURL:"https://web.dev/lcp/",unit:"ms",longName:"Largest Contentful Paint"}],["TTFB",{thresholds:{good:2500},explainerURL:"https://web.dev/time-to-first-byte/",unit:"ms",longName:"Time to first byte"}]]),k=["class","style"],E=["show-unsupported","show-metric-name"];class C extends HTMLElement{constructor(){super(),this.unsupportedMetrics=[],this.metrics=new Map}connectedCallback(){const e=this.getMetricAttributes(),t=e.length?e:[...L.keys()];this.metrics=this.getMetrics(t),this.render();for(let e of this.metrics.values()){const{name:t,getWebVitalsValue:n}=e;n((n=>{this.metrics.set(t,{...e,...n}),this.render()}),!0)}}getMetricAttributes(){return this.getAttributeNames().filter((e=>!k.includes(e)&&!E.includes(e))).map((e=>e.toUpperCase()))}getMetrics(e){return new Map(e.reduce(((e,t)=>{const n=S["get"+t];if(!n)return console.error(t+" is not supported by '<web-vitals />'"),this.unsupportedMetrics.push(t),e;const o=L.get(t),{observerEntryType:r}=o;return r&&!PerformanceObserver.supportedEntryTypes.includes(r)?(console.error(t+" is not supported by your browser"),this.unsupportedMetrics.push(t),e):[...e,[t,{...L.get(t),getWebVitalsValue:n,name:t}]]}),[]))}render(){this.innerHTML=`<div class="web-vitals">\n      <dl>\n        ${[...this.metrics].map((([e,t])=>{const{explainerURL:n,isFinal:o,longName:r,thresholds:i,unit:s,value:a}=t;let c="";const{good:l,needsImprovement:d}=i;if(o){c+="is-final ";let e="is-poor";d&&a<=d&&(e="needs-improvement"),a<=l&&(e="is-good"),c+=e}return`\n            <div class="${c}">\n              <dt>\n                ${this.hasAttribute("show-metric-name")?`${r} (<a href="${n}">${e}</a>)`:`<a href="${n}">${e}</a>`}\n              </dt>\n              <dd>${a?`${Math.floor(a)}${s||""}`:"..."}</dd>\n            </div>\n          `})).join("")}\n      </dl>\n        ${this.unsupportedMetrics.length&&this.hasAttribute("show-unsupported")?`<p>Not supported: ${this.unsupportedMetrics.join(", ")}</p>`:""}\n    </div>`}}customElements.define("web-vitals",C);class T extends HTMLElement{connectedCallback(){this.feature=this.getAttribute("feature"),this.render()}render(){this.innerHTML=`<p class="ciu_embed" data-feature="${this.feature}" data-periods="future_2,future_1,current,past_1,past_2">\n      <picture>\n        <source type="image/webp" srcset="https://caniuse.bitsofco.de/image/${this.feature}.webp">\n        <source type="image/png" srcset="https://caniuse.bitsofco.de/image/${this.feature}.png">\n        <img src="https://caniuse.bitsofco.de/image/${this.feature}.jpg"\n             alt="Data on support for the ${this.feature} feature across the major browsers from caniuse.com">\n      </picture>\n    </p>`}}customElements.define("caniuse-support",T);class M extends HTMLElement{constructor(){super(),this.pack=`/assets/${this.getAttribute("pack")??"iconset"}.svg`,this.size=Number(this.getAttribute("size"))||32,this.name=this.getAttribute("name")??"error",this.attachShadow({mode:"open"}),this.render()}static get observedAttributes(){return["name"]}attributeChangedCallback(e,t,n){"name"===e&&t&&(this.name=n,this.render())}render(){this.shadowRoot.innerHTML=`\n    <style>\n      :host {\n        --icon-size: ${this.size}px;\n\n        display: inline-flex;\n        align-items: center;\n        vertical-align: sub;\n      }\n      :host,\n      svg {\n        width: var(--icon-size);\n        height: var(--icon-size);\n      }\n      svg {\n        fill: var(--icon-color, white);\n      }\n    </style>\n    <svg role="img">\n      <use xlink:href="${this.pack}#${this.name}"></use>\n    </svg>`}}customElements.define("svg-icon",M);class $ extends HTMLElement{constructor(){super(),this.dom=Array.from(this.querySelectorAll("a")),this.length=this.querySelectorAll("a").length,this.attachShadow({mode:"open"}).innerHTML='\n    <style>\n      :host {\n        --dark-color: #aaa;\n        --fill-color: #ccc;\n        --active-gradient: linear-gradient(darkred 50%, red 50%);\n        --inactive-gradient: linear-gradient(#888 50%, #aaa 50%);\n        --hover-color: var(--theme-color);\n\n        margin-top: 2em;\n        display: flex;\n        position: relative;\n        display: flex;\n        justify-content: center;\n      }\n      .line {\n        width: 100%;\n        position: absolute;\n        top: 15px;\n        left: -100vw;\n        width: 200vw;\n        z-index: 0;\n        border-bottom: 4px solid var(--dark-color);\n      }\n      .node {\n        display: flex;\n        flex-direction: column;\n        min-width: 200px;\n        align-items: center;\n        z-index: 1;\n      }\n      .node span {\n        font-family: var(--header-font);\n        font-variation-settings: \'wght\' 750;\n        letter-spacing: -1px;\n        transition: all 0.5s;\n        text-align: center;\n        color: #333;\n        margin-top: 0.6em;\n        padding: 0 0.4em;\n        max-width: 90%;\n      }\n      .node a {\n        --size : 25px;\n        width: var(--size);\n        height: var(--size);\n        border-radius: 50%;\n        border: 4px solid var(--dark-color);\n        background: var(--inactive-gradient);\n        transition: all 0.5s;\n      }\n      .node a::before {\n        content: "";\n        display: block;\n\n        border-radius: 50%;\n        width: 100%;\n        height: 100%;\n        background: rgba(25,25,125, 0.2);\n        transition: all 1s;\n      }\n      .node a.current {\n        border-color: var(--dark-color);\n        background: var(--active-gradient);\n      }\n      .node a:hover:not(.current) {\n        border-color: var(--hover-color);\n        background: var(--theme-gradient);\n        transform: scale(1.25) rotate(180deg);\n      }\n      .node a:hover::before {\n        transform: scale(3);\n        background: transparent;\n      }\n      .node a:hover + span { color: var(--hover-color) }\n\n      @media screen and (max-width: 1024px) {\n        :host {\n          flex-direction: column;\n          align-items: flex-start;\n        }\n        .node {\n          flex-direction: row;\n          margin: 10px;\n        }\n        .node a {\n        }\n        .node span {\n          max-width: 100%;\n          margin: 0;\n          margin-left: 0.5em;\n        }\n        .line, .current { display: none }\n      }\n    </style>\n    <div class="line"></div>\n  '}connectedCallback(){this.dom.forEach((e=>this.shadowRoot.appendChild(this.createChapter(e))))}createChapter(e){const t=document.createElement("div");t.className="node";const n=document.createElement("a");n.className=e.className,"current"!==e.className&&(n.href=e.href,n.setAttribute("onclick",e.getAttribute("onclick")),n.title=e.title);const o=document.createElement("span");return o.textContent=e.textContent,t.appendChild(n),t.appendChild(o),t}}customElements.define("link-timeline",$);class q extends HTMLElement{constructor(){super(),this.innerHTML='\n      <style>\n        .sandbox pre {\n          margin: 0;\n          overflow: auto;\n          max-height: var(--height, auto);\n        }\n      </style>\n      <div class="sandbox" slot="sandbox"></div>\n      <div class="preview" slot="preview"></div>\n    ',this.sandbox=this.querySelector(".sandbox"),this.preview=this.querySelector(".preview"),this.preview.attachShadow({mode:"open"}),this.sandbox.appendChild(this.parentElement.nextElementSibling),this.attachShadow({mode:"open"})}connectedCallback(){this.shadowRoot.innerHTML='\n      <style>\n        :host {\n          display: block;\n        }\n        .menu {\n          display: flex;\n        }\n        .option {\n          padding: 6px 22px;\n          background: #767676;\n          border-right: 2px solid #888;\n          color: white;\n          font-family: var(--terminal-font);\n          font-size: 18px;\n          cursor: pointer;\n        }\n        .option:not(.current):hover {\n          background: var(--theme-color);\n        }\n        .current {\n          background: black;\n          border-right-color: var(--theme-color);\n        }\n        .sandbox {\n          font-family: var(--terminal-font);\n          font-size: 18px;\n          font-weight: bold;\n          width: 100%;\n          min-height: 100px;\n          background: black;\n          overflow: auto;\n          white-space: pre;\n          color: #ccc;\n        }\n        form { display: none; }\n      </style>\n      <div class="menu">\n        <div class="current option">Code</div>\n        <div class="option">Preview</div>\n        <div class="option">CodePen</div>\n        <form action="https://codepen.io/pen/define" method="POST" target="_blank">\n          <input type="submit" value="Create Codepen">\n        </form>\n      </div>\n      <slot class="results" name="sandbox"></slot>\n    ',this.options=this.shadowRoot.querySelectorAll(".option"),this.results=this.shadowRoot.querySelector(".results"),this.hasAttribute("height")&&this.sandbox.style.setProperty("--height",this.getAttribute("height")+"px"),this.form=this.shadowRoot.querySelector("form"),this.options.forEach((e=>e.addEventListener("click",(()=>this.select(e))))),this.refreshSandbox("code")}select(e){const t=e.textContent.toLowerCase();this.unselectAll(),e.classList.add("current"),this.refreshSandbox(t)}refreshSandbox(e){if("preview"===e){if(0===this.preview.shadowRoot.textContent.length){const e=document.createElement("iframe");e.src="data:text/html;charset=utf-8,"+encodeURIComponent(this.sandbox.textContent),this.preview.shadowRoot.innerHTML="<style>\n          :host {\n            display: block;\n            border: 4px solid black;\n            min-height: 150px;\n          }\n          iframe {\n            width: 100%;\n            margin: 0;\n            border: 0;\n          }\n        </style>",this.preview.shadowRoot.appendChild(e)}this.results.name="preview"}else if("codepen"===e){const e={title:new URL(location.href).origin+" "+document.title,html:this.sandbox.textContent},t=document.createElement("input");t.type="hidden",t.name="data",t.value=JSON.stringify(e),this.form.insertAdjacentElement("afterbegin",t),this.form.submit(),t.remove()}else this.results.name="sandbox"}unselectAll(){this.options.forEach((e=>e.classList.remove("current")))}}customElements.define("code-sandbox",q);const A=performance.now(),j=document.body.classList.contains("post"),F=window.innerWidth<1200;if(j){if(document.querySelectorAll(".content a > img:only-child").forEach((e=>e.parentElement.classList.add("nohover"))),(()=>{const e=Array.from(document.querySelectorAll(".content a")),t=[{test:"://youtube.com/",icon:"youtube"},{test:"://github.com/",icon:"github"},{test:".github.io/",icon:"github"},{test:"://twitter.com/",icon:"twitter"},{test:".wikipedia.org",icon:"wikipedia"},{test:"://codepen.io/",icon:"codepen"},{test:"://microsoft.com/",icon:"windows"},{test:".npmjs.com/",icon:"npm"}];e.forEach((e=>t.forEach((t=>{e.href.includes(t.test)&&((e,t)=>{t.insertAdjacentHTML("beforeend",`<svg-icon name="${e}"></svg-icon>`)})(t.icon,e)}))))})(),(()=>{const e=document.querySelector("li.current.page"),t=document.querySelectorAll("body.post .content h3, body.post .content h4"),n=[];t.forEach((e=>{const t=`${location.origin}${location.pathname}#${e.id}`;e.innerHTML=`<a class="perm" href="${t}">${e.textContent} <svg-icon name="anchor" size="18"></svg-icon></a>`,n.push(`<li class="inner page">\n        <a class="${e.nodeName.toLowerCase()}" href="#${e.id}">\n          <svg-icon name="link" size="16"></svg-icon>\n          ${e.textContent}\n        </a>\n      </li>`)})),e.insertAdjacentHTML("afterEnd",n.join("\n"))})(),(()=>{const e=document.querySelector(".nav-mobile .burger-mobile"),n=document.querySelector(".burger"),o=(()=>{let e=!1;return()=>{e||t();const o=document.body.classList.contains("open");n.querySelector("svg-icon").setAttribute("name",o?"bars":"hamburger"),document.body.classList.toggle("open"),e=!0}})();e.onclick=()=>o(),n.onclick=()=>o(),document.querySelector(".menu .upside").addEventListener("click",(()=>scroll(0,0))),document.querySelector(".nav-mobile .upside").addEventListener("click",(()=>scroll(0,0))),document.querySelector(".menu .item.comment").addEventListener("click",(()=>document.querySelector("#disqus_button").click()));const r=e=>{Array.from(document.querySelectorAll(".sections nav")).forEach((e=>e.classList.add("off"))),Array.from(document.querySelectorAll(".menu .item")).forEach((e=>e.classList.remove("active"))),document.querySelector(`.sections nav${e}`).classList.remove("off"),document.querySelector(`.menu .item${e}`).classList.add("active"),document.body.classList.contains("open")||o()};document.querySelector(".menu .item.links").addEventListener("click",(()=>r(".links"))),document.querySelector(".menu .item.featured").addEventListener("click",(()=>r(".featured"))),document.querySelector(".menu .item.search").addEventListener("click",(()=>{r(".search"),setTimeout((()=>document.querySelector("form.search input").focus()),100)}))})(),setTimeout((()=>(()=>{const e=document.querySelector(".item.comment .badge"),t=document.querySelector("#disqus_button").textContent.match(/([0-9]+)/);t&&(e.classList.add("on"),e.textContent=t[0])})()),2e3),innerWidth<1024&&document.querySelector("link-timeline").remove(),F){Array.from(document.querySelectorAll(".inner.page a")).forEach((e=>e.addEventListener("click",(()=>document.body.classList.remove("open")))))}c()}const z=Number((new Date).toISOString().split("T")[1].split(":")[0]);if(z>16&&z<23){const e=document.createElement("div");e.className="twitch-hour",e.innerHTML='\n  <svg-icon name="twitch"></svg-icon>\n  <p>\n    ¡Es la hora <strong>Twitch</strong>! Suelo estar en directo en <a href="https://twitch.tv/ManzDev">ManzDev</a> ¿Vienes?\n    <img class="manz-top" src="/assets/manz.svg" alt="Pixelated Manz">\n  </p>\n  ',document.body.insertAdjacentElement("afterbegin",e)}(e=>{2===n.length&&(n[0].textContent=["avellanas","nueces","almendras","anacardos","cacahuetes","pistachos"][~~(6*Math.random())],n[1].textContent=["chocolate","fresa","nata","limón","naranja","menta"][~~(6*Math.random())],o.textContent=Math.floor(100*(performance.now()-e))/100)})(A);
